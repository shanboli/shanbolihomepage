
% ********** Chapter 7 **********
\chapter{Web Application}
\label{sec:WebApplication}

\section{Overview}
\label{sec:WebApplication:Overview}

\begin{figure}[!hbtp]
\centering
\epsfig{file=chap07/resources/welcome_desktop_browser_view, width=5.2in}
\caption{Welcome page of desktop browser view of web application}
\label{fig:WelcomePageOfDesktopBrowserView}
\end{figure}

The web application is the main portal of the whole application. It is based on Mobile Front Controller. The role of web application in the whole application is shown in Figure \ref{fig:ArchitectureOfWebCallSDK}. Users can use the web application to manage their accounts and VoIP calls. Administrators can use web applications to manage users. The web application can be packaged into a war file and easily to deploy. It only needs a sevlet container, like Tomcat, to run. It supplies two kind of views one is for desktop browser and another is for mobile browser. Beside these two views, the web application also contains a web service interface. This chapter will focus on two browser view. The web service interface will be introduced with detail in chapter \ref{sec:WebServiceInterface}.

A welcome screen of desktop browser view of Web Application is shown in Figure \ref{fig:WelcomePageOfDesktopBrowserView}.

\section{Architecture of Mobile Front Controller 3}
\label{sec:WebApplication:ArchitectureOfMobileFrontController3}

\textit{``Mobile Front Controller (MFC)\label{sym:MFC} is a light-weight Java EE web application framework for creating web applications for web browsing and mobile browsing.''}\cite{MobileFrontController} It was developed by Peter Yeung and P\"{a}r Johansson from \href{http://www.ericsson.com/developer/}{Ericsson Developer Connection}, Ericsson\cite{MobileFrontController}. The mobile front controller uses a sevlet to handle http request, and redirect request to different kind of view. All views share a same logic. An overview of Mobile Front Controller used by a web application on a Java EE web container is shown in Figure \ref{fig:MFCOverview}.

\begin{figure}[!hbtp]
\centering
\epsfig{file=chap07/resources/MFC_overview, width=5.2in}
\caption{An overview of Mobile Front Controller used by a web application on a
Java EE web container. (Figure taken from \textit{Mobile Front Controller Developer's guide for software version 3.1}\cite{DevelopersGuideOfMFC})}
\label{fig:MFCOverview}
\end{figure} 

\textit{``MFC is used on top of a Java EE web container, and does not require any other framework, such as JSF, Struts, etc.
MFC does the following:}
\begin{itemize}
\item \textit{{Detects and selects appropriate views based on HTTP request headers. A view is a subdirectory that, for example, corresponds to a markup language such as XHTML, XHTML Mobile Profile (MP) and WML (see Figure \ref{fig:ArchitecureOfMFC}). The way MFC detects and selects views is customizable using view handlers.} }
\item \textit{Shares UI logic between different views, for example, web and mobile browsing. This is done using action commands, which are classes that contain an execute method that is executed when a URL with, for example, the URL pattern *.do is called (for example http://localhost:8080/mfc-basic-demo/xhtml/Print.do).''}\cite{DevelopersGuideOfMFC}
\end{itemize}

\begin{figure}[!hbtp]
\centering
\epsfig{file=chap07/resources/architecture_of_mfc, width=5.2in}
\caption{The architecture of Mobile Front Controller (Figure taken from \textit{Mobile Front Controller Developer's guide for software version 3.1}\cite{DevelopersGuideOfMFC})}
\label{fig:ArchitecureOfMFC}
\end{figure} 

The version of Mobile Front Controller used in Web Call Example Application is the latest version, v3.1.

\section{Site structure}
\label{sec:WebApplication:SiteStructure}

\section{Desktop browser view}
\label{sec:WebApplication:DesktopBrowserView}

\section{Mobile browser view}
\label{sec:WebApplication:MobileBrowserView}

\section{User action}
\label{sec:WebApplication:UserAction}

\section{Administrator action}
\label{sec:WebApplication:AdministratorAction}

\section{Validation mechanism}
\label{sec:WebApplication:ValidationMechanism}

\subsection{Page level}
\label{sec:WebApplication:ValidationMechanism:PageLevel}

\subsection{Server level}
\label{sec:WebApplication:ValidationMechanism:ServerLevel}

\section{Session control}
\label{sec:WebApplication:SessionControl}

\section{Ajax in web application}
\label{sec:WebApplication:AjaxInWebApplication}

\section{Java ME helper}
\label{sec:WebApplication:JavaMEHelper}

\section{Database}
\label{sec:WebApplication:Database}

\textsf{TODO: remember to write the first user will be administrator.}


\subsection{Design of database}
\label{sec:WebApplication:Database:DesignOfDatabase}

\subsection{User database utility}
\label{sec:WebApplication:Database:UserDatabaseUtility}

\section{Security}
\label{sec:WebApplication:Security}

\subsection{Certificate}
\label{sec:WebApplication:Security:Certificate}

\subsection{Security constraint}
\label{sec:WebApplication:Security:SecurityConstraint}

\subsection{Authorization}
\label{sec:WebApplication:Authorization}

% ********** End of chapter **********
